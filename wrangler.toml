# Cloudflare Pages Configuration
# https://developers.cloudflare.com/pages/configuration/wrangler-configuration/

name = "ibimina-gemini"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Build configuration
[build]
command = "npm run build"
cwd = "."
# watch_dir = "src"

[build.upload]
dir = "dist"

# Environment variables (set in Cloudflare dashboard for secrets)
[vars]
MODE = "production"
APP_VERSION = "1.0.0"

# Development environment
[env.development]
name = "ibimina-gemini-dev"
[env.development.vars]
MODE = "development"
DEBUG = "true"

# Staging environment
[env.staging]
name = "ibimina-gemini-staging"
[env.staging.vars]
MODE = "staging"

# Production environment
[env.production]
name = "ibimina-gemini"
[env.production.vars]
MODE = "production"

# Custom domains (configure after initial deployment)
# [env.production.routes]
# zone_name = "your-domain.com"
# pattern = "app.your-domain.com"

# Performance and caching rules
[site]
bucket = "./dist"

# Headers are defined in public/_headers file

# Tail workers for logging (optional)
# [tail_consumers]
# - service = "logging-service"
